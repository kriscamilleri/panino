# /docker-compose.yml
version: '3.8'

services:
  api-service:
    build: ./backend/api-service
    restart: always
    environment:
      JWT_SECRET: ${JWT_SECRET}
      PORT: 8000
      NODE_ENV: production
      TURNSTILE_SECRET_KEY: ${TURNSTILE_SECRET_KEY}
    volumes:
      - api-data:/app/data # Persist SQLite DBs

  font-service:
    build: ./backend/font-service
    restart: always
    environment:
      PORT: 3002
      NODE_ENV: production

volumes:
  api-data: